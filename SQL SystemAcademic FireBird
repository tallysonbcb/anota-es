CREATE TABLE TBL_PESSOA
(
	PES_IDEN VARCHAR (15) NOT NULL ,
	PES_FUNCAO VARCHAR (30) NOT NULL,
	PES_NOME VARCHAR (30) NOT NULL,
	PES_LOGRADOURO VARCHAR (40),
	PES_CEP VARCHAR (15) NOT NULL,
	PES_NUMERO VARCHAR (15) NOT NULL,
	PES_COMPLEMENTO VARCHAR (30) NOT NULL,
	PES_BAIRRO VARCHAR (30) NOT NULL,
	PES_CIDADE VARCHAR (20) NOT NULL,
	PES_UF VARCHAR (3) NOT NULL,
	PES_TELCELULAR VARCHAR (20) NOT NULL,
	PES_TELRESIDENCIAL VARCHAR (20) NOT NULL,
	PES_SITUACAO  VARCHAR (20) NOT NULL,
 
	CONSTRAINT PESSOA_PK PRIMARY KEY (PES_IDEN)

);

CREATE TABLE TBL_CURSO
(
	CURS_IDEN INTEGER NOT NULL,
	CURS_DESCRICAO VARCHAR (15),
	CURS_COORD_IDEN VARCHAR (15) NOT NULL,

	CONSTRAINT CURSO_PK PRIMARY KEY (CURS_IDEN)
);

ALTER TABLE "TBL_CURSO" ADD CONSTRAINT "CURS_COORD_IDEN" FOREIGN KEY ("CURS_COORD_IDEN") REFERENCES TBL_PESSOA ("PES_IDEN") ON UPDATE NO ACTION ON DELETE NO ACTION;

CREATE TABLE TBL_DISCIPLINA
(
	DISC_IDEN INTEGER NOT NULL,
	DISC_CURS_IDEN INTEGER NOT NULL,
	DISC_DESCRICAO VARCHAR (15) NOT NULL,
	DISC_CARGAHORARIA INTEGER NOT NULL,
	DISC_BIBLIOGRAFIA VARCHAR (50),
	DISC_EMENTA VARCHAR (50),
	DISC_PROF_IDEN VARCHAR (15) NOT NULL,
	
	CONSTRAINT DISCIPLINA_PK PRIMARY KEY (DISC_IDEN)
);

ALTER TABLE "TBL_DISCIPLINA" ADD CONSTRAINT "DISC_PROF_IDEN" FOREIGN KEY ("DISC_PROF_IDEN") REFERENCES TBL_PESSOA ("PES_IDEN") ON UPDATE NO ACTION ON DELETE NO ACTION;
ALTER TABLE "TBL_DISCIPLINA" ADD CONSTRAINT "DISC_CURS_IDEN" FOREIGN KEY ("DISC_CURS_IDEN") REFERENCES TBL_CURSO ("CURS_IDEN") ON UPDATE NO ACTION ON DELETE NO ACTION;

CREATE TABLE TBL_TURMA
(
	TURM_IDEN INTEGER NOT NULL,
	TURM_ANO INTEGER NOT NULL,
	TURM_SEMESTRE INTEGER NOT NULL,
	TURM_HORARIO VARCHAR (10) NOT NULL,
	TURM_DIASEMANA VARCHAR (20) NOT NULL,
	TURM_DISC_IDEN INTEGER NOT NULL,

	CONSTRAINT TURMA_PK PRIMARY KEY (TURM_IDEN)

);

ALTER TABLE "TBL_TURMA" ADD CONSTRAINT "TURM_DISC_IDEN" FOREIGN KEY ("TURM_DISC_IDEN") REFERENCES TBL_DISCIPLINA ("DISC_IDEN") ON UPDATE NO ACTION ON DELETE NO ACTION;
  
CREATE TABLE TBL_MATRICULA
(
	MATR_PES_IDEN VARCHAR (15) NOT NULL,
	MATR_TURM_IDEN INTEGER NOT NULL,
	MATR_CURS_IDEN INTEGER NOT NULL,
	MATR_SITUACAO VARCHAR (15) NOT NULL,
	
	CONSTRAINT  MATRICULA_PK PRIMARY KEY (MATR_PES_IDEN)
);

ALTER TABLE "TBL_MATRICULA" ADD CONSTRAINT "MATR_PES_IDEN" FOREIGN KEY ("MATR_PES_IDEN") REFERENCES TBL_PESSOA ("PES_IDEN") ON UPDATE NO ACTION ON DELETE NO ACTION;
ALTER TABLE "TBL_MATRICULA" ADD CONSTRAINT "MATR_CURS_IDEN" FOREIGN KEY ("MATR_CURS_IDEN") REFERENCES TBL_CURSO ("CURS_IDEN") ON UPDATE NO ACTION ON DELETE NO ACTION;
ALTER TABLE "TBL_MATRICULA" ADD CONSTRAINT "MATR_TURM_IDEN" FOREIGN KEY ("MATR_TURM_IDEN") REFERENCES TBL_TURMA ("TURM_IDEN") ON UPDATE NO ACTION ON DELETE NO ACTION;

CREATE TABLE TBL_AVALIACAO
(
	AVAL_DISC_IDEN INTEGER NOT NULL,
	AVAL_PROF_IDEN VARCHAR (15) NOT NULL,
	AVAL_ALUN_IDEN VARCHAR (15) NOT NULL,
	AVAL_FREQUENCIA NUMERIC,
	AVAL_NOTA1 NUMERIC,
	AVAL_NOTA2 NUMERIC,
	AVAL_MEDIA NUMERIC,
	AVAL_SITUACAO VARCHAR (10),
	
	CONSTRAINT AVALIACAO_PK PRIMARY KEY (AVAL_ALUN_IDEN)

);

ALTER TABLE "TBL_AVALIACAO" ADD CONSTRAINT "AVAL_DISC_IDEN" FOREIGN KEY ("AVAL_DISC_IDEN") REFERENCES TBL_DISCIPLINA ("DISC_IDEN") ON UPDATE NO ACTION ON DELETE NO ACTION;
ALTER TABLE "TBL_AVALIACAO" ADD CONSTRAINT "AVAL_PROF_IDEN" FOREIGN KEY ("AVAL_PROF_IDEN") REFERENCES TBL_PESSOA ("PES_IDEN") ON UPDATE NO ACTION ON DELETE NO ACTION;
ALTER TABLE "TBL_AVALIACAO" ADD CONSTRAINT "AVAL_ALUN_IDEN" FOREIGN KEY ("AVAL_ALUN_IDEN") REFERENCES TBL_PESSOA ("PES_IDEN") ON UPDATE NO ACTION ON DELETE NO ACTION;


CREATE TABLE TBL_DIARIO
(
	DIAR_PES_IDEN VARCHAR (15) NOT NULL,
	DIAR_DISC_DESC VARCHAR (20),
	DIAR_PRESENCA INTEGER,
	DIAR_DATA VARCHAR (15),
	
	CONSTRAINT DIARIO_PK PRIMARY KEY (DIAR_PES_IDEN)
);

ALTER TABLE "TBL_DIARIO" ADD CONSTRAINT "DIAR_PES_IDEN" FOREIGN KEY ("DIAR_PES_IDEN") REFERENCES TBL_PESSOA ("PES_IDEN") ON UPDATE NO ACTION ON DELETE NO ACTION;




